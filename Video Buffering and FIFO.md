# Video Buffering and FIFO
This page explains my video buffering technique and FIFO controller that I implemented on the FPGA. To review the SVGA module I created, please read the [README Page](README.md) and the [SVGA Protocol Page](SVGA%20Protocol.md).
The video buffer module is comprised of two components. One being a FIFO controller and one being a SDRAM controller. The SDRAM controller is responsible for either writing data into the SDRAM or reading data from the SDRAM. By sending signals down the column address strobe and row address strobe and their respective address along the address and bank address data lines; I can specify the address to either read or write, the command is determined by whether the write enable signal is sent when the row address is sent. One of the issues I can across was the data not being writing and so I did a deep dive and eventually found out that I needed to have a shifted clock cycle to ensure all data or signal lines were stable before the SDRAM can read the data/signals.
The FIFO controller works in conjunction and acts like a smaller buffer. Because the SDRAM takes a few cycles to read or write, I needed to pre-read data before it was needed by my display module. I ended up with a cool module which has two cursors, one is reading out of the FIFO buffer and one is writing into the buffer with data from the SDRAM. The cursor writing continuously tries to read from the SDRAM and writes in as long as the reading cursor is ahead. While the reading cursor takes from the buffer whenever the display module needs it. This ends up causing two different clocks to work on the same register memory space without conflict.
One last note, I ended up pushing the SDRAM to the highest clock rate of 200MHz to allow for enough bandwidth and additionally, I modified the pong and dino video controllers to only send pixels that need to be updated. This requires storing the last position of the entities that are moving but ensures that whenever an entity moves, the new position can be drawn and the old position can be erased. Overall the SDRAM controller took the longest to implement with it taking about 2 weeks of constant work, trying to learn how it works with little external help.